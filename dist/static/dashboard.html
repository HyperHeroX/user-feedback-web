<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>📊 User Feedback Dashboard</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <script src="/socket.io/socket.io.js"></script>
    <!-- Navbar Component -->
    <link rel="stylesheet" href="/components/navbar.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="dashboard.css">
</head>
<body class="dashboard-body">
    <!-- Unified Navigation Bar (injected by navbar.js) -->
    
    <!-- Dashboard 標題區 -->
    <header class="dashboard-header" style="margin-top: 20px;">
        <div class="header-left">
            <h1 class="dashboard-title">
                <span class="icon">📊</span>
                User Feedback Dashboard
            </h1>
            <span id="version-display" class="version-display">v--</span>
        </div>
        <div class="header-right">
            <div class="connection-indicator" id="connectionStatus">
                <span class="status-dot"></span>
                <span class="status-text">連接中...</span>
            </div>
            <button id="refreshBtn" class="btn btn-secondary" title="重新整理">
                <span class="icon">🔄</span>
                重新整理
            </button>
        </div>
    </header>

    <!-- 統計摘要 -->
    <section class="stats-summary">
        <div class="stat-card">
            <div class="stat-icon">📁</div>
            <div class="stat-info">
                <div class="stat-value" id="totalProjects">0</div>
                <div class="stat-label">專案數</div>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">⏳</div>
            <div class="stat-info">
                <div class="stat-value" id="activeSessions">0</div>
                <div class="stat-label">等待回饋</div>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">✅</div>
            <div class="stat-info">
                <div class="stat-value" id="completedSessions">0</div>
                <div class="stat-label">已完成</div>
            </div>
        </div>
    </section>

    <!-- 專案列表 -->
    <main class="projects-container">
        <div class="projects-header">
            <h2 class="section-title">
                <span class="icon">📂</span>
                專案列表
            </h2>
            <div class="filter-controls">
                <input type="text" id="searchInput" class="search-input" placeholder="搜尋專案...">
            </div>
        </div>
        
        <div id="projectsList" class="projects-grid">
            <!-- 專案卡片將由 JavaScript 動態生成 -->
            <div class="loading-placeholder">
                <span class="icon">⏳</span>
                <p>載入專案中...</p>
            </div>
        </div>
    </main>

    <!-- 空狀態顯示 -->
    <div id="emptyState" class="empty-state" style="display: none;">
        <div class="empty-icon">📭</div>
        <h3>尚無專案</h3>
        <p>當 AI 開始發送工作匯報時，專案將自動顯示在此處</p>
    </div>

    <!-- Scripts -->
    <script src="/components/navbar.js"></script>
    <script src="dashboard.js"></script>
</body>
</html>
